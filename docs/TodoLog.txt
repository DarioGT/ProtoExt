Log : 

    edicion abierta sin restriccion de navegacion 
    error zoomFilter en edicion MD 

    inspectdb desde projecto; 

    seguridad

        if not request.user.is_authenticated(): 
            return JsonError('readOnly User')

        if not request.user.is_authenticated(): 
            return doReturn ({'success':False ,'message' : 'readOnly User'})

    form 

        Ok no se ven los idtems de detalles al editar 

        no se puede seleccionar una vista en el detalle 
        la vista no entra en edicion ( probar la edicion  _


    Menu 
        ok si se deja en blanco al editar el nombre se vuelve loco 
        ok No al generar menu crear proyectos, 
        ok permir la creacion de opciones al adm 
        no agregar opciones q adicionales en protoDefinition ( hacer un vector y verificar contra la def)

    Absorcion de cols 
        Ok - no esta agregando el __ en el nombre 

    Vistas prototypo
        las vistas en la misma tabla de view,  asi se evita el problema referencial
        - Ok modelo  
        - Ok getPci, savePci 
        - Ok menu ( verificar admin )
        protoTable tambien debe depender 
        - Ok modelo 
        - Ok generacion de vistas 
        - Ok lectura y edicion 

        PROTO_PREFIX = "prototype.ProtoTable."
        if viewCode.startswith( PROTO_PREFIX )  and viewCode != viewEntity :


    Edit Mode
        Ok Limpiar los iconos de edicion, 
        Ok permititr cambiar los detalles en edicion 


    propertyModel
        implemtar la herencia de zoom en Property.propertyMod
        proc para union de campos 

        Ok onDelete generar el nuevo campo
        Ok onDelete en Eqivalences 

    Grid 
        permitir agregar el check como un campo mas

    prototipos 
        limpiar el nombre de los campos de espacios y '@#$"'
        __str___   ( evaluar una funcion )
        typos de datos  ( string por default )
        choices 
        vrDefault 
        type Money ( representacion )
        ordenamiento en la grilla 

        mensajes de advertencia en la generacion de los prototios  

-----------

    
Detalles, 
    la llave del detalle no permite actalmente montar dos referencias a partir de la misma tabla ( maestro1, maestro2 )
    redefinir la llave.  

Login y manejo de edicion, autorizaciones 

-----------


    el search no funciona en proerte por el modelo_code
    -- ahora se verifican los ti[os de ] datos antes de Q

    Manejo completo de herencia de propiedades y 
    equivalencia a nivel de dominio 

    Modiifcar en el menu solamente la parte de protoOption 
    permitir crear menu en la raiz ( si esta en culquier opcion, para no agregar mas iconos  )

------------

    smplificacion de fields 
        eliminacion de los id de seguridad en la pcl basica 

    eliminar de la definicion de campo
        height
        maxheight
        minheight 

        hideLabel
        labelAlign
        labelWidth

        cellTooltip
        qbeHelp

    Agregar 
        vtype 
        prpLength  
        prpScale (  decimalPrecision  )


-------------
    demo Marc
        tyoe Money 
        Separacion de campos ADM 
        fieldSet  border = 0 

    ?? por q no trae la jerarqua de campos ( config fieldTree )
        sort de los campos al cargar 

    recarga de la pcl y hacer clear general

    limpiar la conf de la forma \
    hacer autorefresh 


-------------
    beforeEdit para controlar el permiso  en la grilla 
    update form ( no aparece el boton )


    property dom y model 
    generacion de vistas por entidad 
        configuracion de acciones 
        formas dinamiocas para parametros de acciones (  )


    ordenamiento en la grilla 
        store.remoteSort
        sortOnLoad 

    Ok en vez de carga storeProxu,  ejecutar un metodo  myLoadData( filter, sorter  )
       Los filtros se deben manejar siempre como objetos,  el manejo del store debe convertirlos a str 

    Ok, South 
    Ok, MD 

    Ok,  campos absorbidos
        Agregar el fromModel   
        R/ se cambio por crudType  

        modelMeta = field.model._meta
        pField['fromModel'] = modelMeta.app_label + '.' + modelMeta.object_name 

---------------------------------

meta <-> tree

PAra agregar un nodo en la pcl se debe definir en la lista padre 

    listOf  esto encadena con el objeto hijo 
    allowAdd  permite adicion en la pcl ( por defecto true )

    El objeto a agregar debe contener el tipo de propiedades q maneja 

    __ptStyle :  jsonText,  colList , object  ( por defecto )
    addPrompt :  Mesnaje para el nombre del nodo 

    En caso de ser un jsonText

    addTemplate ( @name sera reemplazado por el valor ingresado por el usuario )

** Contenedores e items 
    Para un manejo claro, un objeto no deberia mezclar arrays con propiedades,  o es un array o es un objeto. 
    El manejo en el arbol de la pcl puede ser distinto,  se asocia el array con un determinado nombre a un hijo del objeto 
    como si fuera un grupo de propiedades 
    
    No se pueden manejar los arrays como propieades pues se pierde el orden,  


-----------------------------------------------------------
Generacion de dictionartio, 
-----------------------------------------------------------
    Las entidades tendran una funcion de generacion de su esquema Django de base, 
    El modelo recogera todas las propieades y presentara el esquema. 


        
**  Copiar una pci   -- Ok. 
        Tener la posibilidad de copiar una pci, (  una vista dependiente de la entidad )
       
    Seguridad 
        implementar     


    Barra de estado,
        Campo actual,  actividades, etc   
       
    Login 
        en la barra de estado y no en la parte superior 


    Varios 
        Los campos tipo char/text tendran flex = 1/3 por defecto 
        
        
        Manejo del zoom FKey 
        agregar __str__
         
        ** Separar colecciones de edicion de forma y grilla, dejar la meta tal cual
        ** displaylist vista por defecto   
     

    vinculos a las formas  
        ** Creado el hipervinculo, 
        abrir la forma correspondiente  
    
    seguridad y login
        **  Ubicacion del boton 
        Funciones de login 
        Funciones de acceso 
        Funciones de grupos organizacionales
            Multiherencia con una tabla q maneje la seguridad por tipo de campo depediendo del propie 
         
        
** Redefinir meta2tree 
        HAcerlo de manera jerarquica y no recursiva,  separar por lo menos en rutinas independientes el m2t de la forma y 
        del list displayset


** Pendiente reg nuevo, creacion desde el zoom 

---------------  ---------------------------------------------------------------------------------------------------------- 

Edicion 
    ** MAnejo de un evento afer edito para marcar el registro como dirty y ademas quitarle es status, 
    ** Cargar los mensajes de regreso en un campo virutal como _ptStatus pero con el mensaje para cada campo 
    ** Campo tipo time 
    ** Actualizacion del estado de la grilla despues de sincronzar 
    ** Colores en la grilla para indicar el estado 
    ** Actualizacion de Fkey
    ** Evento de cambio en la grilla padre e indicador de refresh en la dependiente 

**  Hay un error al cargar los tabs, el indice del tab corresponde al indice tab
    buscar el tab segun el indice de los detalles o crear una estructura de equivalencia. 

**  Al momento de abreir el tab y luego selecionar no esta pasando por el seteo del titulo, revizar si el setActiveTab esta pasando 


**  En la lectura del modelo carga una col con un vr significativo prara las FKey,
    La ventana detalles debe contener un indicativo de cual es su filtro, 
    al independizar la ventana,  debe desaparecer el boton de independizar 

**    Agregar un boton y generar una nueva pagina totalmente Django con html de base,
    
**    Si genero una grilla en ext,  debe tener un heigt predeterminado,  la impresion automatica solo toma la 
      informacion visible,  mientras que una grilla html se imprime completa. 
    

**    La otra alternativa es la impresion de la ficha,  en este caso solo se imprimira la ficha actual 
      una linea inicial con los datos de la grilla y el espacio para generar el html de la ficha 
        



---

    ** AGregar AutoLinksUp AutoLinksDown para descubrir las relaciones de cada tabla ( Detalles )

    ** Para el menu, cargar un Ajax con la config general de la app y luego pasar el store al menu,
       El autoload se definira aqui
    
    ** Cargar el page_limit del admin, para cada entidad, si no se envia asumir el vr por defecto 
    


Journal.txt
------------------------------------------------------------------------

El zoom esta cargando la pagina completa al definirse

12/11
 
Status en la forma si hay camopos invalidos no aparece 

Guardar solo las variables con valores 
    ** Revizar checked 
    y el agregar filterset en la pci 


** protoDefinicion editada no hace sort x active 
* Enviar a la meta solo lo necesario, los campos nombre typo, udps, searchfields, sortfields 
** fecha y boleanos no se cargan, y la edicion produce valores formateados de manera no conveniente 
** Cargar las UDP con sus tipos, o sea q todo se hace en python, por q el store en Ext recibe los tipos con sus objetos correspondientes.

** Leer todo del admin y de los modelos, usar la logica del admin
 
    ** cambiar Db por MSSS y probar  
    ** eliminar llamados al modelo "Concept" leer del admin     

    **  Cargar la definicion de la grilla directamente de la dB
    HAce una tabla Buffer para este manejo 

    ** Separa el llamado Ajax como un singleton, 
    Esto hara q solo se llame una vez 
    Tomar como referencia  feed-viewer/app/lib/FeedValidator.js   ( mvc )

    ** Seleccion de Columnas visibles ( vista )
    PAra el manejode las columnas no se usaran tabs, pues este objeto es automaticamente un contenedor y el objeto contenido 
    hace referencia a su contenedor, de tal forma q al intentar compartirlo en diferentes tabs, solo aparece en el ultimo q 
    se asigno,  habria q jugar con esto dinamicamente y tocaria escribir mas codigo.  
    
    # TODO: Otras propiedades de base de los campos, usarlas para la edicion             
    #field.default, field.editable, field.error_message, field.help_text, fiedl.verbose_name_plural
    #field.blank, field.null, field.choises 
    


    
NO  Ext.ux.form.SearchField
    Es un widget especializado en esto,  y con un campo de base adicional se podria manejar 
    busquedas sobre campos especificos o sobre todos los campos buscables
     
    http://joekuan.wordpress.com/2011/04/04/selective-column-search-using-extjs-combo-and-searchfield-together/
    file:///D:/data/ExtJs/ext-3.4.0/examples/form/custom-access.html
    file:///D:/data/ExtJs/ext-3.4.0/examples/forum/forum.html

    Finalmente las busquedas se manejara construyendo los QBE en Python con el ORM 



    
        
Ok    Separar los datos dela  definicion 



Ok  Otras 
    Pasar la vista a ProtoLib
    Q la vista genere los datos de manejo tomados de la definicion Db

Ok  Nagegador  Master Detail 
    Agregar vinculos de navegacion a la grilla
    Manejo de navegacion con dependencia padre hijo 


NO  Cambiar el InLine por una tabla simple con una columa de modificacion y otra de seleccion (hipervinculo sobre la llave), 
    la edicion no se hara inline, se hara todo el tiempo em la forma base del modelo,

    Finalmente, se decide transladar todo a ExtJs


Ok  Manejo de Meta para unificar la importacion de Modelibra y OMS,. Se basa en Django para el manejo del ORM
Ok  Projecto Django para visualizar el diccionario.  



-----------------------------------------------------------------------
Soporte ExtJs

        PAra el manejo de extjs pienso q la manera mas optima es utilizando el  Django-ExtDirect 
        
        Hay varias versiones,  
            * github.revolunet-ext-js
              fue susituido por revulunet.django-extdirect
              baje un fork q trae ejemplos

            * github.ext-direct
              Es un proyecto generico q trae alguna forma de utilizarse en django
              lo descarte por q se dedica mas otros productos en python q a django.

            * github.revolunet-extdirect
              es bsado en sancho y es una version siguiente a revolunet-ext-js
              dice q requiere  Ext.ux.AwesomeCombo

            * Ext.ux.AwesomeCombo
              para instalarlo solo dice q se copie en las estaticas,
              podria ser en ext3.x o directamene en el proyecto,
              voy a copiarlas en el proyecto directamnte




12/06/06

    Ocultar el control de sort y hide/show cols en la g


12/02/03


    Se agrego el worwrap 
    Se puso a funcionar el QBE
    
    


9/26/2011 10:18:00 PM
    
Ok  Buscar librerias ExtJs para Django 
Ok  Buscar donde se procesa el InLine ( girlla de valores ) para ejecutarlo en extjs 
    
        

11/11/30 

El autoPK, no es necesario, el id es una columna interna q no necesita ser parte de la grilla

En el caso del maestro detalle, al interrogar la llave del maestro se verificara antes si es 
id, pk, %model_id %model_pk  en cualquiera de estos casos se tomara el  internalId de la grilla

El internalId a pesar de haber sido redefinido con otro nombre, siempre usa id, poria intentar 
redefinirlo en el reader, pero por ahora solo reconfirmo el 'id' para no tener problema con futuras versiones  

        #if (idName not in self.QFields ): 
#            fKey = { 
#                 'name':    idName , 
#                 'header':  'id',
#                 'xtype':  'numbercolumn',
#                 'filterable':  False, 
#                 'sortable' : False, 
#                 'hidden':  True, 
#                 }
#            self.fields.append(fKey)
#            self.QFields += ',' + fKey['name']



11/11/26  Autolink

    La funcionalidad de autolink, examina el modelo para agregar las tablas relacionadas, 
    maestros  o detalles, 

    para probarlo cree las tablas siguientes 

    class Tabla1(models.Model):
        code1 = models.CharField(blank = True, null = True, max_length=200 )

    class Tabla11(models.Model):
        code1 = models.CharField(blank = True, null = True, max_length=200 )
        tabla1a = models.ForeignKey('Tabla1', related_name= 'prueba1a')
        tabla1b = models.ForeignKey('Tabla1', related_name= 'prueba1b')
        tabla1c = models.ForeignKey('Tabla1', related_name= '+')
        
    class Tabla12(models.Model):
        code1 = models.CharField(blank = True, null = True, max_length=200 )
        tabla1a = models.ForeignKey('Tabla1')


    La Tabla11 tiene 3 relaciones a la tabla1, la 1c no tiene relatedName,  por lo tanto no aparece 
    mapeada en la tabla ppa. 


    model._meta._name_map 
    
    _related_objects_cache  Contiene la informacion

**  hay una coleccion parents !!!   
    ._meta.get_parent_list():  Solo las tablas con herencia ?? 


    for rel in opts.get_all_related_objects(): # + opts.get_all_related_many_to_many_objects():

        rel.model._meta.object_name
        rel.model._meta.pk.name
        rel.field.name

11/10/27  MAestro detalle 

        MAnejar un panel de detalle resulto ser mas dificil q manejar los tabs al momento 
        de hacer el render de la grilla,  
        
        Version de prueba de una grilla sobre el detalle, creacion de tabs dinamica 
        ** Corregir si el tab ya esta creado, solo se debe activar 
        
        ** Manejo de la navegacion basada en el filtro , filtrar primero la grilla padre 
        
        ** por q ahora el store no genera detalles adicioaneles en la creacion de cada grilla ??    
    
        

11/10/27  Formato de la ventana 

        Formato de la ventana,  
        El manejo de detalles se pasa a un menu,  el QBE se manejara por campos en Tbar 
        Las vistas ( tabas de cols ) se manejaran en un menu con cada una de las vistas seleccionadas 
        
        Intento por montar la grilla en forma dinamica,
          
        no se puede reemplazar la variable de objeto pues la referencia siempre queda al objeto anterior 
        habria q reconfiguar el store 
        
        De todas maneras hay q sacar el store, por q los eventos para configuar MD ( maestro detall ) son del 
        store, 
        
        intente con Ext.getCMP y me trae la referencia, voy a seguir intentando como cambiar la ref del objeto obtenido 
        dinamicamente 
        
        verificar si los id son unicos, por q si para cada ventana usa el mismo id, todas se encuentran en la misma pagina 
        y generara un error. 
         
        

11/10/25  Enviar la configuracion de detalles y tabls

        En la construccion del json estoy enviando una configuracion basica de tabs y de los detalles  (protogrid.py)

            ,'protoTabs':[
                 {'T1': ['Col1','Col2']},
                 {'T2': ['Col3','Col2']},
                 ]
            ,'protoDetails': {
                 'Concpet1': 'Id = %Id',
                 'Concept2': 'Id = %Id'
                 }

Ok      pero no encuentro la conf  q envio en el store
        La llamada Ajax hace desde ProtoGrid  ( POST )

Ok      1. Verificar q este llegando,  ( manejar el store )

        Ext.data.HttpProxy( url, method )
        La lectura se hace asi

              ,proxy:new Ext.data.HttpProxy({
                    url:'protoExtjsGridDefinition/?' + protoEntityName
                    ,method:'POST'
                })

                ,reader: new Ext.data.JsonReader({
                    root:'rows'
                    ,id:'id'
                })


        La conf de columnas puede manejarse simplemente asignando la variable columns 
        
        // Column Model shortcut array
        var cols = [
          { id : 'name', header: "Record Name", width: 160, sortable: true, dataIndex: 'name'},
          {header: "column1", width: 50, sortable: true, dataIndex: 'column1'},
          {header: "column2", width: 50, sortable: true, dataIndex: 'column2'}
        ];

        Q es lo q viene en mi store.metaData.fields
        
        Estaba en el primer nivel con los campos de control,  lo inclui en la meta y ya puedo verlo desde js.

        Ahora es como pasarla para verla como una propiedad de la grilla?  asi podre desde el panel exterior configuar el entorno (navegacion)
        Hacer un getMeta en la grilla??
        
11/10/26        
        No se independizo el store y se lee el evento del metachange, 
        Peparacion del ejemplo en ext3.4/ejemplos/prueba/protoPanel
        

----------------------------------------------------------------------------------


